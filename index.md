# –ü—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–µ üëã

–ü—Ä–∏–≤–µ—Ç—Å—Ç–≤—É–µ–º –∏ –±–ª–∞–≥–æ–¥–∞—Ä–∏–º —Ç–µ–±—è –∑–∞ –ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –Ω–∞—à–∏–º —Å–µ—Ä–≤–∏—Å–æ–º **kanber.ru**

# 1. –ü–æ–ª—É—á–µ–Ω–∏–µ –∫–ª—é—á–µ–π YandexPay ‚ö°

–î–ª—è –Ω–∞—á–∞–ª–∞ —Ä–∞–±–æ—Ç—ã —Å —Å–µ—Ä–≤–∏—Å–æ–º –Ω—É–∂–Ω–æ –ø–æ–ª—É—á–∏—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ –∫–ª—é—á–µ–π [–∑–¥–µ—Å—å](https://console.pay.yandex.ru/web/account/settings/online)

![–ü–æ–ª—É—á–µ–Ω–∏–µ Merchant ID](image.png)

> [!TIP]
> –ï—â–µ –Ω—É–∂–Ω–æ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å Callback URL - https://api.kanber.ru/api/v1/payments/yandex-pay

![–£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º Callback URL](image-1.png)

–ò –µ—â–µ, –Ω—É–∂–Ω–æ –≤—ã–ø—É—Å—Ç–∏—Ç—å –∫–ª—é—á, —ç—Ç–æ —á—É—Ç—å –Ω–∏–∂–µ, —Å–∫–æ–ø–∏—Ä—É–π—Ç–µ –∫–ª—é—á —Å–æ—Ö—Ä–∞–Ω–∏—Ç–µ –µ–≥–æ, ID –∫–ª—é—á–∞ –Ω–µ –Ω—É–∂–µ–Ω

# 2. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Tilda ‚ö°

–ó–∞—Ö–æ–¥–∏–º –≤ –ù–∞—Å—Ç—Ä–æ–π–∫–∏ —Å–∞–π—Ç–∞ -> –ü–ª–∞—Ç–µ–∂–Ω—ã–µ —Å–∏—Å—Ç–µ–º—ã -> –£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω–∞—è –ø–ª–∞—Ç–µ–∂–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞.

–í—ã–±–∏—Ä–∞–µ–º "–ù–æ–≤–∞—è –ø–ª–∞—Ç–µ–∂–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ (–¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤)"

–í –ø–æ–ª–µ –õ–æ–≥–∏–Ω –ø—Ä–æ–ø–∏—Å—ã–≤–∞–µ–º **`–õ–æ–≥–∏–Ω –ø–ª–∞—Ç–µ–∂–Ω–æ–π —Å–∏—Å—Ç–µ–º—ã` –∏–∑ –õ–ö Kanber**

–í –ø–æ–ª–µ —Å–µ–∫—Ä–µ—Ç–Ω—ã–π –∫–ª—é—á –ø—Ä–æ–ø–∏—Å—ã–≤–∞–µ–º **`–°–µ–∫—Ä–µ—Ç –¥–ª—è –ø–æ–¥–ø–∏—Å–∏ –∑–∞–∫–∞–∑–∞`** –∏–∑ –õ–ö Kanber

–ü–æ–ª–µ ‚ÄúURL –î–õ–Ø –£–í–ï–î–û–ú–õ–ï–ù–ò–ô‚Äù –ø–æ–∫–∞ –æ—Å—Ç–∞–≤–∏—Ç—å –ø—É—Å—Ç—ã–º

–ó–∞–ø–æ–ª–Ω—è–µ–º –≤–∞–ª—é—Ç—É (–ø–æ–∫–∞ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ RUB), –Ω–∞–ª–æ–≥–∏, –§–§–î –Ω–∞ —Å–≤–æ—ë —É—Å–º–æ—Ç—Ä–µ–Ω–∏–µ

–†–∞—Å–∫—Ä—ã–≤–∞–µ–º –º–µ–Ω—é "**–†–ê–°–®–ò–†–ï–ù–ù–´–ï –ù–ê–°–¢–†–û–ô–ö–ò"**

–í "API URL" –ø–∏—à–µ–º https://api.kanber.ru/api/v1/tilda/v1/checkout

## –ù–∞—á–∏–Ω–∞–µ–º –∑–∞–ø–æ–ª–Ω—è—Ç—å –ø–æ–ª—è –≤ —Ä–∞—Å—à–∏—Ä–µ–Ω–Ω—ã—Ö –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö

–ù–∞–∑–≤–∞–Ω–∏–µ –ø–æ–ª—è | –ó–Ω–∞—á–µ–Ω–∏–µ | –î–æ–ø. –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è
--- | --- | ---
API URL | https://api.kanber.ru/api/v1/tilda/v1/checkout |  
–¢–µ—Å—Ç–æ–≤—ã–π API URL | https://api.kanber.ru/api/v1/tilda/v1/checkout |  
–õ–æ–≥–∏–Ω	 | login	 |  
–í–∞–ª—é—Ç–∞	 | currency | RUB/USD/‚Ä¶ 
–Ø–∑—ã–∫	 | lang | –í–µ—Ä—Ö–Ω–∏–π —Ä–µ–≥–∏—Å—Ç—Ä 
–°—Ç—Ä–∞–Ω–∞	 | country | –í–µ—Ä—Ö–Ω–∏–π —Ä–µ–≥–∏—Å—Ç—Ä 
URL –¥–ª—è —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π | notifyUrl |  
–ù–æ–º–µ—Ä –∑–∞–∫–∞–∑–∞ | orderld | <ID –ø—Ä–æ–µ–∫—Ç–∞>.<ID –∑–∞–∫–∞–∑–∞> 
–û–ø–∏—Å–∞–Ω–∏–µ –∑–∞–∫–∞–∑–∞ | orderDescription |  
–°—É–º–º–∞ –∑–∞–∫–∞–∑–∞	 | total | –í —Ä—É–±–ª—è—Ö/–¥–æ–ª–ª–∞—Ä–∞—Ö/‚Ä¶ 
Email –ø–æ–∫—É–ø–∞—Ç–µ–ª—è | customerEmail |  
–¢–µ–ª–µ—Ñ–æ–Ω –ø–æ–∫—É–ø–∞—Ç–µ–ª—è | customerPhone | –ë–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π 
–ò–º—è –ø–æ–∫—É–ø–∞—Ç–µ–ª—è | customerName | –ò–º—è (–∏–ª–∏ –§–ò–û, –µ—Å–ª–∏ –ø—É—Å—Ç–æ) 
–ü–æ–¥–ø–∏—Å—å	 | signature |  
–¢–æ–≤–∞—Ä—ã	 | items | –ú–∞—Å—Å–∏–≤ JSON
–ü–æ—Ä—è–¥–∫–æ–≤—ã–π –Ω–æ–º–µ—Ä | num | –° –µ–¥–∏–Ω–∏—Ü—ã 
–ù–∞–∑–≤–∞–Ω–∏–µ | name |  
–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ | quantity |  
–¶–µ–Ω–∞ | price | –í —Ä—É–±–ª—è—Ö/–¥–æ–ª–ª–∞—Ä–∞—Ö/‚Ä¶ 
–ü–æ–ª–Ω–∞—è —Å—Ç–æ–∏–º–æ—Å—Ç—å | total | –í —Ä—É–±–ª—è—Ö/–¥–æ–ª–ª–∞—Ä–∞—Ö/‚Ä¶ 
–§–æ—Ç–æ | photo | 
–î–æ–±–∞–≤–ª—è—Ç—å –¥–æ—Å—Ç–∞–≤–∫—É –≤ —Å–ø–∏—Å–æ–∫ —Ç–æ–≤–∞—Ä–æ–≤ | –î–∞ 
–ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ü–µ–Ω—É —Å–æ —Å–∫–∏–¥–∫–æ–π –¥–ª—è —Ç–æ–≤–∞—Ä–æ–≤ | –î–∞
–§–§–î 1.05 | receipt | –ú–∞—Å—Å–∏–≤ –≤ JSON
–ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ü–µ–Ω—É —Å–æ —Å–∫–∏–¥–∫–æ–π –≤ –º–∞—Å—Å–∏–≤–µ –§–§–î | –î–∞

## –ü–æ–¥–ø–∏—Å—å –∑–∞–∫–∞–∑–∞

–ü—Ä–∞–≤–∏–ª–∞ –ø–æ–¥–ø–∏—Å–∏ | –û—Å–æ–±—ã–µ –ø—Ä–∞–≤–∏–ª–∞
--- | ---
–û—Å–æ–±—ã–µ –ø—Ä–∞–≤–∏–ª–∞ –ø–æ–¥–ø–∏—Å–∏ | `{{login}}{{total}}{{orderId}}{{notifyUrl}}{{items}}{{receipt}}{{secret}}`
–ê–ª–≥–æ—Ä–∏—Ç–º —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏—è | SHA-256
–ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å–µ–∫—Ä–µ—Ç –≤ –∫–∞—á–µ—Å—Ç–≤–µ –∫–ª—é—á–∞ –∞–ª–≥–æ—Ä–∏—Ç–º–∞ (HMAC) | –ù–µ—Ç
–ü—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞—Ç—å –∫ –≤–µ—Ä—Ö–Ω–µ–º—É —Ä–µ–≥–∏—Å—Ç—Ä—É | –ù–µ—Ç
–ü—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞—Ç—å –∏—Ç–æ–≥–æ–≤—É—é –ø–æ–¥–ø–∏—Å—å –≤ base64 | –ù–µ—Ç

## –ü–æ–¥–ø–∏—Å—å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è

–ü—Ä–∞–≤–∏–ª–∞ –ø–æ–¥–ø–∏—Å–∏ | –û—Å–æ–±—ã–µ –ø—Ä–∞–≤–∏–ª–∞
--- | ---
–ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∞–Ω–∞–ª–æ–≥–∏—á–Ω—ã–µ –ø—Ä–∞–≤–∏–ª–∞ –¥–ª—è –ø–æ–¥–ø–∏—Å–∏ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è | –ù–µ—Ç
–ü–†–ê–í–ò–õ–ê –ü–û–î–ü–ò–°–ò | –û—Å–æ–±—ã–µ –ø—Ä–∞–≤–∏–ª–∞
–û–°–û–ë–´–ï –ü–†–ê–í–ò–õ–ê –ü–û–î–ü–ò–°–ò | `{{orderId}}{{status}}{{secret}}`
–ê–ª–≥–æ—Ä–∏—Ç–º —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏—è | SHA-256
–ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å–µ–∫—Ä–µ—Ç –≤ –∫–∞—á–µ—Å—Ç–≤–µ –∫–ª—é—á–∞ –∞–ª–≥–æ—Ä–∏—Ç–º–∞ (HMAC) | –ù–µ—Ç
–ü—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞—Ç—å –∫ –≤–µ—Ä—Ö–Ω–µ–º—É —Ä–µ–≥–∏—Å—Ç—Ä—É | –ù–µ—Ç
–ü—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞—Ç—å –∏—Ç–æ–≥–æ–≤—É—é –ø–æ–¥–ø–∏—Å—å –≤ base64 | –ù–µ—Ç

## –£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ 

–ù–∞–∑–≤–∞–Ω–∏–µ –ø–æ–ª—è | –ó–Ω–∞—á–µ–Ω–∏–µ | –î–æ–ø. –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è
--- | --- | ---
–ü–†–ò–ó–ù–ê–ö –£–°–ü–ï–®–ù–û–ì–û –ü–õ–ê–¢–ï–ñ–ê | status | SUCCESS
–ò–î–ï–ù–¢–ò–§–ò–ö–ê–¢–û–† –¢–†–ê–ù–ó–ê–ö–¶–ò–ò | operationId | –ü—Ä–æ–∏–∑–≤–æ–ª—å–Ω—ã–π
–û–¢–í–ï–¢ –û–ë –£–°–ü–ï–•–ï –£–í–ï–î–û–ú–õ–ï–ù–ò–Ø | OK |
–û–¢–í–ï–¢ –û–ë –û–®–ò–ë–ö–ï –£–í–ï–î–û–ú–õ–ï–ù–ò–Ø | ERROR | 
–û—Ç–≤–µ—Ç—ã –Ω–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –≤ —Ñ–æ—Ä–º–∞—Ç–µ json | –ù–µ—Ç | 

–†–∞–∑–¥–µ–ª ‚Äú–ü–û–î–î–ï–†–ñ–ö–ê‚Äù, —Ç—Ä–µ–±—É–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –¥–ª—è –ø–æ–¥–∞—á–∏ —à–∞–±–ª–æ–Ω–∞ –≤ –æ–±—â–∏–π –¥–æ—Å—Ç—É–ø —Ç–∏–ª—å–¥—ã, –∑–∞–ø–æ–ª–Ω—è—Ç—å –Ω–µ –Ω—É–∂–Ω–æ

–ü—Ä–æ–ª–∏—Å—Ç—ã–≤–∞–µ–º –≤ —Å–∞–º—ã–π –Ω–∏–∑, –∑–∞–ø–æ–ª–Ω—è–µ–º –ó–∞–≥–æ–ª–æ–≤–æ–∫ –∏ —Å–æ—Ö—Ä–∞–Ω—è–µ–º.

–°–Ω–æ–≤–∞ –æ—Ç–∫—Ä—ã–≤–∞–µ–º —Å—Ç—Ä–∞–Ω–∏—Ü—É —ç—Ç–æ–π –ø–ª–∞—Ç–µ–∂–Ω–æ–π —Å–∏—Å—Ç–µ–º—ã, –≤–≤–µ—Ä—Ö—É —Å—Ç—Ä–∞–Ω–∏—Ü—ã –∏—â–µ–º –ø–æ–ª–µ ‚ÄúURL –î–õ–Ø –£–í–ï–î–û–ú–õ–ï–ù–ò–ô‚Äù, —Ç–∞–º –¥–æ–ª–∂–Ω–∞ –±—ã–ª–∞ –ø–æ—è–≤–∏—Ç—Å—è —Å—Å—ã–ª–∫–∞, –∫–æ–ø–∏—Ä—É–µ–º –µ—ë –∏ –≤—Å—Ç–∞–≤–ª—è–µ–º –≤ –ø–æ–ª–µ `URL –¥–ª—è —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π` –≤ –õ–ö Kanber.